// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

// 경기 정보
model Game {
  id        Int      @id @default(autoincrement())
  gameTime  String   // 게임 시간 (예: "27:17")
  result    String   // 승/패
  createdAt DateTime @default(now())
  players   Player[]
}

// 플레이어 정보 (경기당 10명)
model Player {
  id           Int     @id @default(autoincrement())
  gameId       Int
  game         Game    @relation(fields: [gameId], references: [id], onDelete: Cascade)
  team         Int     // 1 또는 2
  lane         String  // 탑/정글/미드/원딜/서폿
  level        Int
  champion     String
  summonerName String
  spell1       String
  spell2       String
  kills        Int
  deaths       Int
  assists      Int
  kda          Float?  // nullable
  damage       Int
  gold         Int
  vision       Int?    // nullable

  @@index([gameId])
  @@index([champion])
  @@index([summonerName])
}
